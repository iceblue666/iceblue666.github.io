\-\-\-
title:开发博客的一些点
time:2021-03-08 18:56:00
categories:前端,总结
tags:前端,博客
summary:开发博客的一些想法，记录下来
\-\-\-

# 开发博客的一些点

## 1. 文章详情内容可以用keep-alive

文章内容赋值了就不会变，所以可以用keep-alive减少开销

在router meta可以设置

```javascript
 {
  path:'/book',
  name:'book',
  components:Book,
  meta:{
     keepAlive:true //不需要被缓存的组件
 } 
```

## 2. moment对象比较

转化为时间戳比较

```javascript
tmepListDatas.sort((a,b) => {
    return moment(b.time).unix() - moment(a.time).unix();
})
```

但是注意，由于请求数据(虽然是mock到本地返回)，异步操作，因此必须在Promise.then里比较，否则比较函数可能执行完了，数组才加载进数据。

## 3. mock的post

mock的post传参会在config.body里面，但这是个字符串，需要JSON.parse()转成对象

## 4. 博客运行时间

moemnt的diff方法

`this.$moment().diff(this.$moment(this.$config.BlogStartTime),'days');`

